(function(e){e.fn.qrwidget=function(t){function o(e,t){return Math.floor(Math.random()*(t-e+1))+e}var n=e.extend({iconWidth:"30",vpos:"bottom",hpos:"middle",shape:"square"},t);var r="position:absolute; width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent;";var i="position:absolute; width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent;";var s="position:absolute; z-index: 5000; display:none; border:1px solid #CCC; background:#FFF; text-align:center; text-transform:uppercase; letter-spacing:3px; font-size:11px; color:#000;";if(n.vpos=="bottom"){r+="top:-20px; border-bottom: 20px solid #CCC;";i+="top:-19px; border-bottom: 20px solid #FFF;";s+="top:"+(n.iconWidth+20)+"px; "}else if(n.vpos=="top"){r+="bottom:-20px; border-top: 20px solid #CCC;";i+="bottom:-19px; border-top: 20px solid #FFF;";s+="bottom:"+(n.iconWidth+20)+"px; "}else{r+="top:-20px; border-bottom: 20px solid #CCC;";i+="top:-19px; border-bottom: 20px solid #FFF;";s+="top:"+(n.iconWidth+20)+"px; "}if(n.hpos=="middle"){r+="left:60px;";i+="left:60px;";s+="left:"+(n.iconWidth/2-80)+"px"}else if(n.hpos=="left"){r+="left:145px; border-right: 0px solid transparent;";i+="left:145px;  border-right: 0px solid transparent;";s+="left:"+(-167+n.iconWidth/2)+"px"}else if(n.hpos=="right"){r+="left:0px; border-left: 0px solid transparent;";i+="left:0px; border-left: 0px solid transparent;";s+="left:"+(0+n.iconWidth/2)+"px"}else{r+="left:60px;";i+="left:60px;";s+="left:"+(n.iconWidth/2-80)+"px"}var u=o(1,999999);var a=document.getElementById("myjs").getAttribute("src");var f=a.split("/");var l=f[f.length-1];var c=a.replace(l,"");var h="<div id='qrWidget' style='position:relative; width:"+n.iconWidth+"px'>";h+="<img src='"+c+"icon_"+n.shape+".png' style='width:100%; cursor:pointer;'>";h+="<div id='qrWidgetDisplay' style='"+s+"'>";h+="<img src='http://162.13.117.116/bookmark?size=5&fc=000000&id="+u+"' style='border:0px solid #CCC;' /><div style='position:relative; top:-10px;'><a href='http://webzakimbo.com' target='_blank' style='color:#000; text-decoration:none;'>webzakimbo.com</a></div>";h+="<div style='"+r+"'></div>";h+="<div style='"+i+"'></div>";h+="</div>";h+="</div>";return this.html(h).click(function(){e("#qrWidgetDisplay").fadeToggle(200)})}})(jQuery)